<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="counting_boats package" href="counting_boats.html" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.04.27 -->
        <title>counting_boats.utils package - Counting Boats 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=437aa6ec" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Counting Boats 0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Counting Boats 0.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">counting_boats</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of counting_boats</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="counting_boats.html">counting_boats package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of counting_boats package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">counting_boats.utils package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="counting-boats-utils-package">
<h1>counting_boats.utils package<a class="headerlink" href="#counting-boats-utils-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-counting_boats.utils.area_coverage">
<span id="counting-boats-utils-area-coverage-module"></span><h2>counting_boats.utils.area_coverage module<a class="headerlink" href="#module-counting_boats.utils.area_coverage" title="Link to this heading">¶</a></h2>
<p>This module provides functions for calculating the coverage of polygons and TIFF files.</p>
<p>The main functions in this module are:
- <cite>area_coverage_tif</cite>: Calculates the intersection of a polygon and a TIFF file, as a percentage of the polygon area.
- <cite>area_coverage_poly</cite>: Computes the intersection of a polygon and a reference polygon, as a percentage of the reference polygon area.
- <cite>combine_polygons</cite>: Combines two or more (intersecting) polygons into one.
- <cite>polygons_to_32756</cite>: Converts a polygon from latitude-longitude coordinates to EPSG:32756 coordinate system.</p>
<p>These functions are useful for analyzing and measuring the coverage of geographic areas by polygons and TIFF files.</p>
<p>Author: Charlie Turner
Date: 18/3/24</p>
<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.area_coverage.area_coverage_poly">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.area_coverage.</span></span><span class="sig-name descname"><span class="pre">area_coverage_poly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#counting_boats.utils.area_coverage.area_coverage_poly" title="Link to this definition">¶</a></dt>
<dd><p>Computes the intersection of a polygon and a reference polygon, as a percentage of the reference polygon area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reference</strong> – path to reference polygon file (geojson format)</p></li>
<li><p><strong>polygon</strong> – path to polygon file (geojson format)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The proportion of the reference polygon covered by the polygon</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.area_coverage.area_coverage_tif">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.area_coverage.</span></span><span class="sig-name descname"><span class="pre">area_coverage_tif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tif</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.area_coverage.area_coverage_tif" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the intersection of a polygon and a tif, as a percentage of the polygon area.
To be used when calculating the coverage of a tif file for an AOI, after the TIF has already
been obtained. Assumes the tif is clipped to the polygon (does not check whether the tif is
actually inside the polygon, just calculates the areas).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polygon</strong> – path to polygon file (geojson format)</p></li>
<li><p><strong>tif</strong> – path to tif file (from Planet)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing, a float (proportion of polygon covered by tif),
float (area of polygon, m2), float (area of tif, m2)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.area_coverage.combine_polygons">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.area_coverage.</span></span><span class="sig-name descname"><span class="pre">combine_polygons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polygons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Geometry</span></span></span><a class="headerlink" href="#counting_boats.utils.area_coverage.combine_polygons" title="Link to this definition">¶</a></dt>
<dd><p>Combines two or more polygons into one</p>
<p>Args:
polygons: list of paths to polygon file (geojson format) or polygon strings (stringified geojson)</p>
<p>Returns:
The combined polygon in EPSG:32756 coordinate system</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.area_coverage.polygon_latlong2crs">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.area_coverage.</span></span><span class="sig-name descname"><span class="pre">polygon_latlong2crs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32756</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Geometry</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.area_coverage.polygon_latlong2crs" title="Link to this definition">¶</a></dt>
<dd><p>Converts a polygon from lat long to a coordinate system (default EPSG:32756).
Often polygons will be in geojson, which uses latitude and longitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polygon</strong> – one of: path to polygon file (geojson format), polygon string (stringified geojson), or dict representing the polygon. Polygon must be in lat long coordinates.</p></li>
<li><p><strong>crs</strong> – the coordinate system to convert to (default EPSG:32756)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same polygon, converted to the specified coordinate system.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="counting-boats-utils-auto-helpers-module">
<h2>counting_boats.utils.auto_helpers module<a class="headerlink" href="#counting-boats-utils-auto-helpers-module" title="Link to this heading">¶</a></h2>
</section>
<section id="counting-boats-utils-classifier-module">
<h2>counting_boats.utils.classifier module<a class="headerlink" href="#counting-boats-utils-classifier-module" title="Link to this heading">¶</a></h2>
</section>
<section id="counting-boats-utils-config-module">
<h2>counting_boats.utils.config module<a class="headerlink" href="#counting-boats-utils-config-module" title="Link to this heading">¶</a></h2>
</section>
<section id="counting-boats-utils-heatmap-module">
<h2>counting_boats.utils.heatmap module<a class="headerlink" href="#counting-boats-utils-heatmap-module" title="Link to this heading">¶</a></h2>
</section>
<section id="module-counting_boats.utils.image_cutting_support">
<span id="counting-boats-utils-image-cutting-support-module"></span><h2>counting_boats.utils.image_cutting_support module<a class="headerlink" href="#module-counting_boats.utils.image_cutting_support" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">Classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is used to reference each of the classifications made using labelme that are stored in the output csv</p>
<dl class="py method">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification.get_bottom">
<span class="sig-name descname"><span class="pre">get_bottom</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification.get_bottom" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification.get_label">
<span class="sig-name descname"><span class="pre">get_label</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification.get_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification.get_left">
<span class="sig-name descname"><span class="pre">get_left</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification.get_left" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification.get_right">
<span class="sig-name descname"><span class="pre">get_right</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification.get_right" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification.get_top">
<span class="sig-name descname"><span class="pre">get_top</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification.get_top" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification.in_bounds">
<span class="sig-name descname"><span class="pre">in_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification.in_bounds" title="Link to this definition">¶</a></dt>
<dd><p>Check if this classification is within a larger bounding box defined by the parameters of this function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – The left edge of the classification</p></li>
<li><p><strong>right</strong> – The right edge of the classification</p></li>
<li><p><strong>top</strong> – The top edge of the classification</p></li>
<li><p><strong>bottom</strong> – The bottom edge of the classification</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>True if the classification is within the bounding box specified; false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.Classification.serialise">
<span class="sig-name descname"><span class="pre">serialise</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.Classification.serialise" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.add_margin">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">add_margin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pil_img:</span> <span class="pre">&lt;module</span> <span class="pre">'PIL.Image'</span> <span class="pre">from</span> <span class="pre">'C:\\Users\\turner30\\AppData\\Local\\miniconda3\\envs\\Boats\\lib\\site-packages\\PIL\\Image.py'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color:</span> <span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'PIL.Image'</span> <span class="pre">from</span> <span class="pre">'C:\\Users\\turner30\\AppData\\Local\\miniconda3\\envs\\Boats\\lib\\site-packages\\PIL\\Image.py'&gt;</span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.add_margin" title="Link to this definition">¶</a></dt>
<dd><p>Pads an OPEN PIL (pillow/python imaging library) image on each edge by the amount specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pil_img</strong> – The open PIL image to pad.</p></li>
<li><p><strong>left</strong> – The number of pixels to pad the left edge of the image by.</p></li>
<li><p><strong>right</strong> – The number of pixels to pad the right edge of the image by.</p></li>
<li><p><strong>top</strong> – The number of pixels to pad the top edge of the image by.</p></li>
<li><p><strong>bottom</strong> – The number of pixels to pad the bottom edge of the image by.</p></li>
<li><p><strong>color</strong> – What colour the padding should be as a tuple (0, 0, 0) for black (255, 255, 255) for white.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The open PIL image after the padding has been applied</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.coord2latlong">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">coord2latlong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">32756</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.coord2latlong" title="Link to this definition">¶</a></dt>
<dd><p>Converts global coordinates to latitude/longitude coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – The x coordinate in a pair of global coordinates.</p></li>
<li><p><strong>y</strong> – The y coordinate in a pair of global coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(long, lat) - A tuple containing the longitude and latitude at the provided global coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.coord2pixel">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">coord2pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_image_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.coord2pixel" title="Link to this definition">¶</a></dt>
<dd><p>Returns pixel coordinates to pixel center using base-0 raster index</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – The x coordinate (global coordinates) of the object in the image to be converted to pixel coordinates.</p></li>
<li><p><strong>y</strong> – The y coordinate (global coordinates) of the object in the image to be converted to pixel coordinates.</p></li>
<li><p><strong>original_image_path</strong> – The path of the file to evaluate - a .tif files should be located here. This file will
also need geospatial metadata. Images obtained from Planet have the required metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(xp, yp) - A tuple containing the pixel coordinates of the provided global coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.create_padded_png">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">create_padded_png</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">416</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">104</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.create_padded_png" title="Link to this definition">¶</a></dt>
<dd><p>Creates an image which is padded for use in training/classifying within a neural network. Note: this images pads
the images expecting that the size of sub-images created from this images will be 416x416 pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_dir</strong> – Directory where raw .tif files downloaded from Planet are located</p></li>
<li><p><strong>output_dir</strong> – The name of the directory where the padded .png files will be created.</p></li>
<li><p><strong>file_name</strong> – The name of the .tif file that is to be padded.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.create_unpadded_png">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">create_unpadded_png</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.create_unpadded_png" title="Link to this definition">¶</a></dt>
<dd><p>Creates an image which is NOT padded but converts raw .tif to .png files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_dir</strong> – Directory where raw .tif files downloaded from Planet are located</p></li>
<li><p><strong>output_dir</strong> – The name of the directory where the padded .png files will be created.</p></li>
<li><p><strong>file_name</strong> – The name of the .tif file that is to be padded.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.get_cartesian_bottom_left">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">get_cartesian_bottom_left</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.get_cartesian_bottom_left" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the lat long at the bottom left point of a given satellite image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metadata_components</strong> – The metadata components stripped from a .tif file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(long, lat) - A tuple containing the longitude and latitude at the bottom left point of the satellite image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.get_cartesian_bottom_right">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">get_cartesian_bottom_right</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.get_cartesian_bottom_right" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the lat long at the bottom right point of a given satellite image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metadata_components</strong> – The metadata components stripped from a .tif file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>(long, lat) - A tuple containing the longitude and latitude at the bottom right point of the</dt><dd><p>satellite image.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.get_cartesian_top_left">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">get_cartesian_top_left</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.get_cartesian_top_left" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the lat long at the top left point of a given satellite image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metadata_components</strong> – The metadata components stripped from a .tif file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(long, lat) - A tuple containing the longitude and latitude at the top left point of the satellite image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.get_cartesian_top_right">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">get_cartesian_top_right</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_components</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.get_cartesian_top_right" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the lat long at the top right point of a given satellite image
:param metadata_components: The metadata components stripped from a .tif file
:return: (long, lat) - A tuple containing the longitude and latitude at the top right point of the satellite image.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.get_crs">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">get_crs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.get_crs" title="Link to this definition">¶</a></dt>
<dd><p>Get the EPSG code of the coordinate reference system of a .tif file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> – The path of the file to evaluate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The EPSG code of the coordinate reference system of the .tif file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.get_date_from_filename">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">get_date_from_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.get_date_from_filename" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Get the date from a file. The file must have a date in the format “<a href="#id1"><span class="problematic" id="id2">yyyymmdd_</span></a>” at the start of the filename .</p>
</div></blockquote>
<dl class="simple">
<dt>first</dt><dd><dl class="simple">
<dt>Args:</dt><dd><p>filename: The name of the file to extract the date from.</p>
</dd>
<dt>Returns:</dt><dd><p>The date in the format “dd/mm/yyyy” from the filename.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.get_required_padding">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">get_required_padding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilesize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">416</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">104</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.get_required_padding" title="Link to this definition">¶</a></dt>
<dd><p>Determines how much padding is required on each edge of an image so that the image lengths and widths will be
divisible by 416 and that each part of the images will be seen by the neural networm 16 times in either training
or classification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> – The path of the file to evaluate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>(L, R, T, B) - A tuple containing the padding required on the left (L), right (R), top (T), and bottom (b)</dt><dd><p>of the images to make it suitable for use in the neural network.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.latlong2coord">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">latlong2coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">32756</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.latlong2coord" title="Link to this definition">¶</a></dt>
<dd><p>Converts latitude/longitude coordinates to global coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>long</strong> – The longitude coordinate in a pair of latitude/longitude coordinates.</p></li>
<li><p><strong>lat</strong> – The latitude coordinate in a pair of latitude/longitude coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(x, y) - A tuple containing the global coordinates at the provided latitude/longitude coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.metadata_get_w_h">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">metadata_get_w_h</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.metadata_get_w_h" title="Link to this definition">¶</a></dt>
<dd><p>Obtains the width and height of a given satellite image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metadata_components</strong> – The metadata components stripped from a .tif file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(width, height) - A tuple containing the width and height of a given satellite image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.pixel2coord">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">pixel2coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_image_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.pixel2coord" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Returns global coordinates to pixel center using base-0 raster index</p>
<dl>
<dt>Args:</dt><dd><p>x: The x coordinate (pixel coordinates) of the object in the image to be converted to global coordinates.
y: The y coordinate (pixel coordinates) of the object in the image to be converted to global coordinates.
original_image_path: The path of the file to evaluate - a .tif files should be located here. This file will</p>
<blockquote>
<div><p>also need geospatial metadata. Images obtained from Planet have the required metadata.</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>e</dt><dd><dl class="simple">
<dt>Returns:</dt><dd><p>(xp, yp) - A tuple containing the global coordinates of the provided pixel coordinates.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.segment_image">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">segment_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_components</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im_outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.segment_image" title="Link to this definition">¶</a></dt>
<dd><p>Segments a large .tif file into smaller .png files for use in a neural network. Also created
files in the IMGtxts directory which contain the annotations present in that sub image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The large .tif that is to be segmented</p></li>
<li><p><strong>json_file</strong> – The json file that contains all the classifications for the image that were made in labelme.</p></li>
<li><p><strong>size</strong> – The desired size (both length and width) of the segmented images.</p></li>
<li><p><strong>overlap_size</strong> – The desired amount of overlap that the segmented images should have</p></li>
<li><p><strong>metadata_components</strong> – The metadata of the image - useful if the metadata is stripped out in a previous
operation on the image/file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.image_cutting_support.segment_image_for_classification">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.image_cutting_support.</span></span><span class="sig-name descname"><span class="pre">segment_image_for_classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.image_cutting_support.segment_image_for_classification" title="Link to this definition">¶</a></dt>
<dd><p>Segments a large .tif file into smaller .png files for use in a neural network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The large .tif that is to be segmented</p></li>
<li><p><strong>size</strong> – The desired size (both length and width) of the segmented images.</p></li>
<li><p><strong>overlap_size</strong> – The desired amount of overlap that the segmented images should have</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="counting-boats-utils-planet-utils-module">
<h2>counting_boats.utils.planet_utils module<a class="headerlink" href="#counting-boats-utils-planet-utils-module" title="Link to this heading">¶</a></h2>
</section>
<section id="counting-boats-utils-plot-output-module">
<h2>counting_boats.utils.plot_output module<a class="headerlink" href="#counting-boats-utils-plot-output-module" title="Link to this heading">¶</a></h2>
</section>
<section id="module-counting_boats.utils.stitch_PNGs">
<span id="counting-boats-utils-stitch-pngs-module"></span><h2>counting_boats.utils.stitch_PNGs module<a class="headerlink" href="#module-counting_boats.utils.stitch_PNGs" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.stitch_PNGs.main">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.stitch_PNGs.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.stitch_PNGs.main" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="counting_boats.utils.stitch_PNGs.stitch">
<span class="sig-prename descclassname"><span class="pre">counting_boats.utils.stitch_PNGs.</span></span><span class="sig-name descname"><span class="pre">stitch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#counting_boats.utils.stitch_PNGs.stitch" title="Link to this definition">¶</a></dt>
<dd><p>for each png in the directory, pull out the x, y coords
images have names like imagessdfasdf_x_y.png
They are all 416x416, and overlap 104 pixels.
need to stich them back together into one image</p>
</dd></dl>

</section>
<section id="counting-boats-utils-testing-module">
<h2>counting_boats.utils.testing module<a class="headerlink" href="#counting-boats-utils-testing-module" title="Link to this heading">¶</a></h2>
</section>
<section id="counting-boats-utils-user-io-helpers-module">
<h2>counting_boats.utils.user_io_helpers module<a class="headerlink" href="#counting-boats-utils-user-io-helpers-module" title="Link to this heading">¶</a></h2>
</section>
<section id="module-counting_boats.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-counting_boats.utils" title="Link to this heading">¶</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="counting_boats.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">counting_boats package</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, QUT
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">counting_boats.utils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-counting_boats.utils.area_coverage">counting_boats.utils.area_coverage module</a><ul>
<li><a class="reference internal" href="#counting_boats.utils.area_coverage.area_coverage_poly"><code class="docutils literal notranslate"><span class="pre">area_coverage_poly()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.area_coverage.area_coverage_tif"><code class="docutils literal notranslate"><span class="pre">area_coverage_tif()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.area_coverage.combine_polygons"><code class="docutils literal notranslate"><span class="pre">combine_polygons()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.area_coverage.polygon_latlong2crs"><code class="docutils literal notranslate"><span class="pre">polygon_latlong2crs()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#counting-boats-utils-auto-helpers-module">counting_boats.utils.auto_helpers module</a></li>
<li><a class="reference internal" href="#counting-boats-utils-classifier-module">counting_boats.utils.classifier module</a></li>
<li><a class="reference internal" href="#counting-boats-utils-config-module">counting_boats.utils.config module</a></li>
<li><a class="reference internal" href="#counting-boats-utils-heatmap-module">counting_boats.utils.heatmap module</a></li>
<li><a class="reference internal" href="#module-counting_boats.utils.image_cutting_support">counting_boats.utils.image_cutting_support module</a><ul>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification"><code class="docutils literal notranslate"><span class="pre">Classification</span></code></a><ul>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification.get_bottom"><code class="docutils literal notranslate"><span class="pre">Classification.get_bottom()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification.get_label"><code class="docutils literal notranslate"><span class="pre">Classification.get_label()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification.get_left"><code class="docutils literal notranslate"><span class="pre">Classification.get_left()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification.get_right"><code class="docutils literal notranslate"><span class="pre">Classification.get_right()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification.get_top"><code class="docutils literal notranslate"><span class="pre">Classification.get_top()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification.in_bounds"><code class="docutils literal notranslate"><span class="pre">Classification.in_bounds()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.Classification.serialise"><code class="docutils literal notranslate"><span class="pre">Classification.serialise()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.add_margin"><code class="docutils literal notranslate"><span class="pre">add_margin()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.coord2latlong"><code class="docutils literal notranslate"><span class="pre">coord2latlong()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.coord2pixel"><code class="docutils literal notranslate"><span class="pre">coord2pixel()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.create_padded_png"><code class="docutils literal notranslate"><span class="pre">create_padded_png()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.create_unpadded_png"><code class="docutils literal notranslate"><span class="pre">create_unpadded_png()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.get_cartesian_bottom_left"><code class="docutils literal notranslate"><span class="pre">get_cartesian_bottom_left()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.get_cartesian_bottom_right"><code class="docutils literal notranslate"><span class="pre">get_cartesian_bottom_right()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.get_cartesian_top_left"><code class="docutils literal notranslate"><span class="pre">get_cartesian_top_left()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.get_cartesian_top_right"><code class="docutils literal notranslate"><span class="pre">get_cartesian_top_right()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.get_crs"><code class="docutils literal notranslate"><span class="pre">get_crs()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.get_date_from_filename"><code class="docutils literal notranslate"><span class="pre">get_date_from_filename()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.get_required_padding"><code class="docutils literal notranslate"><span class="pre">get_required_padding()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.latlong2coord"><code class="docutils literal notranslate"><span class="pre">latlong2coord()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.metadata_get_w_h"><code class="docutils literal notranslate"><span class="pre">metadata_get_w_h()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.pixel2coord"><code class="docutils literal notranslate"><span class="pre">pixel2coord()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.segment_image"><code class="docutils literal notranslate"><span class="pre">segment_image()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.image_cutting_support.segment_image_for_classification"><code class="docutils literal notranslate"><span class="pre">segment_image_for_classification()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#counting-boats-utils-planet-utils-module">counting_boats.utils.planet_utils module</a></li>
<li><a class="reference internal" href="#counting-boats-utils-plot-output-module">counting_boats.utils.plot_output module</a></li>
<li><a class="reference internal" href="#module-counting_boats.utils.stitch_PNGs">counting_boats.utils.stitch_PNGs module</a><ul>
<li><a class="reference internal" href="#counting_boats.utils.stitch_PNGs.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#counting_boats.utils.stitch_PNGs.stitch"><code class="docutils literal notranslate"><span class="pre">stitch()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#counting-boats-utils-testing-module">counting_boats.utils.testing module</a></li>
<li><a class="reference internal" href="#counting-boats-utils-user-io-helpers-module">counting_boats.utils.user_io_helpers module</a></li>
<li><a class="reference internal" href="#module-counting_boats.utils">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=4e2eecee"></script>
    </body>
</html>